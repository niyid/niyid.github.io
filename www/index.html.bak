<!DOCTYPE html>
<!-- index.html -->
<!DOCTYPE html>
<html ng-cloak ng-app="ScrowIt">
<head>
	<title>ScrowIt!</title>
	<!-- Firebase dependencies -->
	<script src="https://www.gstatic.com/firebasejs/5.10.0/firebase-app.js"></script>
	<script src="<script src="https://www.gstatic.com/firebasejs/5.10.1/firebase-firestore.js"></script>
	<!-- AngularFire dependency -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
	<script src="https://code.angularjs.org/1.7.9/angular-route.js"></script>
	<script src="https://cdn.firebase.com/libs/angularfire/2.3.0/angularfire.min.js"></script>
	<!-- Application scripts -->
	<style>
		.red-button {
			background-color: red;
			color: white;
			border: none;
			border-radius: 5px;
			padding: 10px;
			cursor: default;
		}

		.green-button {
			background-color: green;
			color: white;
			border: none;
			border-radius: 5px;
			padding: 10px;
			cursor: pointer;
		}
	</style>
	<!-- Style sheet -->
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body ng-controller="ScrowItController">
  <script>
    document.addEventListener("deviceready", function() {
      var script = document.createElement("script");
      script.src = "app.js";
      document.body.appendChild(script);
    }, false);
  </script>
	<h1>ScrowIt!</h1>
	<!-- Display escrow items in a list -->
	<ul>
		<li ng-repeat="item in items">{{ item.buyerEmail }} - {{ item.sellerEmail }} - {{ item.tradeAmount }} - {{ item.tradePeriod }} - {{ item.tradeStartDate }} - {{ item.tradeStatus }}</li>
	</ul>
	<!-- Show form for adding new escrow items -->
	<button ng-click="showForm = true">+</button>
	<div ng-show="showForm">
		<form>
			<label>Buyer Email address:</label>
			<input type="text" ng-model="buyerEmail"><br>
			<label>Seller Email address:</label>
			<input type="text" ng-model="sellerEmail"><br>
			<label>Trade amount:</label>
			<input type="number" ng-model="tradeAmount"><br>
			<label>Trade Period:</label>
			<input type="number" ng-model="tradePeriod" value="5"><br>
			<label>Trade Status:</label>
			<div ng-if="tradeStatus == 'PAY' || tradeStatus == 'VERIFY_DELIVERED'">
				<button ng-class="{ 'red-button': !isBuyer, 'green-button': isBuyer }" ng-disabled="!isBuyer && (tradeStatus == 'VERIFY_PAID' || tradeStatus == 'DELIVER')" ng-click="updateTradeStatus()">{{ tradeStatus }}</button>
			</div>
			<div ng-if="tradeStatus == 'VERIFY_PAID' || tradeStatus == 'DELIVER'">
				<button ng-class="{ 'red-button': isBuyer, 'green-button': !isBuyer }" ng-disabled="isBuyer && (tradeStatus == 'PAY' || tradeStatus == 'VERIFY_DELIVERED')" ng-click="updateTradeStatus()">{{ tradeStatus }}</button>
			</div>
			<button ng-click="cancelForm()">Cancel</button>
		</form>
	</div>
</body>
</html> 
