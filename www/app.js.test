// Define the 'myApp' module
angular.module('myApp', []);

// Define the 'myController' controller
angular.module('myApp').controller('myController', function($scope) {
  // Get a reference to the Firestore database
  const db = firebase.firestore();

  // Define a collection name and document ID
  const collectionName = "users";
  const documentId = "abc123";

  // Add a new document to the collection
  db.collection(collectionName).doc(documentId).set({
    name: "John Doe",
    email: "johndoe@example.com",
    age: 30
  })
  .then(() => {
    console.log("Document successfully written!");
  })
  .catch((error) => {
    console.error("Error writing document: ", error);
  });

  // Update a document in the collection
  db.collection(collectionName).doc(documentId).update({
    age: 31
  })
  .then(() => {
    console.log("Document successfully updated!");
  })
  .catch((error) => {
    console.error("Error updating document: ", error);
  });

  // Retrieve a document from the collection
  db.collection(collectionName).doc(documentId).get()
  .then((doc) => {
    if (doc.exists) {
      console.log("Document data:", doc.data());
      $scope.documentData = doc.data(); // Assign the document data to the $scope for display in the view
    } else {
      console.log("No such document!");
    }
  })
  .catch((error) => {
    console.log("Error getting document:", error);
  });

  // Delete a document from the collection
  db.collection(collectionName).doc(documentId).delete()
  .then(() => {
    console.log("Document successfully deleted!");
  })
  .catch((error) => {
    console.error("Error deleting document: ", error);
  });
});

